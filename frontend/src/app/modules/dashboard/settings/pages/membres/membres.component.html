<app-modal [title]="this.modal.alertTitle" [message]="this.modal.alertMessage" [color]="this.modal.alertColor" [showModal]="this.modal.showModal" ></app-modal>

<div *ngIf="showMemberModal"
          class="absolute z-10 " aria-labelledby="modal-title" role="dialog" aria-modal="true">    
          <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"></div>
          <div class="relative p-4 w-full max-w-md max-h-full">
                <!-- Modal content -->
                <div class="relative top-1/2 left-1/2 bg-white rounded-lg shadow dark:bg-gray-700">
                    <!-- Modal header -->
                    <div class="flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600 ">
                        <h3 class="text-lg font-semibold text-gray-700 dark:text-white">
                            Modifier Membre 
                        </h3>
                        <button type="button" (click)="toggleShowMemberModal()" class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white" data-modal-toggle="crud-modal">
                            <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                            </svg>
                            <span class="sr-only">Close modal</span>
                        </button>
                    </div>
                    <!-- Modal body -->
                    <form  class="p-4 md:p-5" [formGroup]="modifyMemberForm" (ngSubmit)="modifyMember()">
                        <div class="grid gap-4 mb-4 grid-cols-2">
                            <div class="col-span-1">
                                <label for="name" class="block mb-2 text-sm font-medium text-gray-700 dark:text-white">Nom Complet</label>
                                <span class="text-sm font-light text-gray-600">{{ activeMembre.fullname }}</span>
                            </div>
                            <div class="col-span-1">
                                <label for="name" class="block mb-2 text-sm font-medium text-gray-700 dark:text-white">Verrouillé</label>
                                <input type="checkbox" [formControl]="controls['status']" />
                            </div>
                            <div class="col-span-1">
                                <label for="name" class="block mb-2 text-sm font-medium text-gray-700 dark:text-white">Email / Username</label>
                                <input [formControl]="controls['email']"  type="text" class="w-full px-3 py-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:ring-primary focus:outline-none sm:text-sm" placeholder="Email / Username" />
                            </div>
                            <div class="col-span-1">
                                <label for="name" class="block mb-2 text-sm font-medium text-gray-700 dark:text-white">Role / Authorities</label>
                                <select  [formControl]="controls['role']" class="w-full px-3 py-2 mt-1 border border-gray-300 rounded-md shadow-sm focus:ring-primary focus:outline-none sm:text-sm">
                                    <option *ngFor="let role of roles;" [value]="role">{{ role }}</option>
                                </select>
                            </div>
                            <div class="col-span-1">
                                <label for="name" class="block mb-2 text-sm font-medium text-gray-700 dark:text-white">Dernière Connexion</label>
                                <span class="text-sm font-light text-gray-600">{{ activeMembre.last_connected }}</span>
                            </div>
                            
                           
                            <button
                            type="submit"
                            [disabled]="modifyMemberForm.invalid"
                            class=" col-span-2 flex items-center justify-center gap-2 px-2 h-8 mt-2 me-3 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-100 hover:text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white cursor-pointer disabled:opacity-35 disabled:cursor-not-allowed disabled:hover:bg-gray-100 disabled:text-gray-500 disabled:border-gray-300 disabled:hover:text-gray-500 disabled:hover:border-gray-300"
                            >
                            Sauvgarder
                            <i class="pi pi-check" style="font-size: 0.8rem;"></i>
                        </button>
                        </div>
                    </form>
                </div>
            </div>
        </div> 


<p-scrollPanel [style]="this.containerMesures">

<div class="py-2 pb-8 rounded-sm sm:bg-gray-50 sm:px-8 sm:shadow">
   
      <div class="pt-4">
        <h1 class="py-2 text-2xl font-bold text-gray-700">Gérer les membres</h1>
      </div>
      <hr class="mt-4 mb-8" />
      <!---->
      <p class="py-2 text-md font-semibold">Statistiques des membres</p>
      <p class="mt-1 mb-16 text-gray-600">
        Cela pourrait inclure des statistiques sur l’activité des membres, le nombre total de membres dans l'organisation, le nombre des roles et les membres actives.
      </p>

      <div class="mb-12 grid gap-y-10 gap-x-6 md:grid-cols-2 xl:grid-cols-4">
        <div class="relative flex flex-col bg-clip-border rounded-xl bg-white text-gray-700 shadow-md">
          <div class="bg-clip-border mx-4 rounded-xl overflow-hidden bg-gradient-to-tr from-teal-600 to-teal-400 text-white shadow-teal-500/40 shadow-lg absolute -mt-4 grid h-14 w-14 place-items-center">
            <i class="pi pi-users" style="font-size: 1.5rem"></i>
          </div>
          <div class="p-4 text-right">
            <p class="block antialiased font-sans text-sm leading-normal font-normal text-blue-gray-600">Membres Total</p>
            <h4 class="block antialiased tracking-normal font-sans text-2xl font-semibold leading-snug text-blue-gray-900">{{this.membersStats.totalMembers}}</h4>
          </div>
          <div class="border-t border-blue-gray-50 p-4">
            <p class="block antialiased font-sans text-sm leading-relaxed font-normal text-blue-gray-500">
              <strong class="text-green-600">+0%</strong>&nbsp;que le mois dernier
            </p>
          </div>
        </div>
        <div class="relative flex flex-col bg-clip-border rounded-xl bg-white text-gray-700 shadow-md">
          <div class="bg-clip-border mx-4 rounded-xl overflow-hidden bg-gradient-to-tr from-cyan-600 to-cyan-400 text-white shadow-cyan-500/40 shadow-lg absolute -mt-4 grid h-14 w-14 place-items-center">
            <i class="pi pi-pen-to-square" style="font-size: 1.5rem"></i>
          </div>
          <div class="p-4 text-right">
            <p class="block antialiased font-sans text-sm leading-normal font-normal text-blue-gray-600">Membres Active</p>
            <h4 class="block antialiased tracking-normal font-sans text-2xl font-semibold leading-snug text-blue-gray-900">{{this.membersStats.totalActiveMembers}}</h4>
          </div>
          <div class="border-t border-blue-gray-50 p-4">
            <p class="block antialiased font-sans text-sm leading-relaxed font-normal text-blue-gray-500">
              <strong class="text-green-600">+3%</strong>&nbsp;que le mois dernier
            </p>
          </div>
        </div>
        <div class="relative flex flex-col bg-clip-border rounded-xl bg-white text-gray-700 shadow-md">
          <div class="bg-clip-border mx-4 rounded-xl overflow-hidden bg-gradient-to-tr from-sky-600 to-sky-400 text-white shadow-sky-500/40 shadow-lg absolute -mt-4 grid h-14 w-14 place-items-center">
            <i class="pi pi-id-card" style="font-size: 1.5rem"></i>
          </div>
          <div class="p-4 text-right">
            <p class="block antialiased font-sans text-sm leading-normal font-normal text-blue-gray-600">Roles Total</p>
            <h4 class="block antialiased tracking-normal font-sans text-2xl font-semibold leading-snug text-blue-gray-900">{{this.membersStats.totalRoles}}</h4>
          </div>
          <div class="border-t border-blue-gray-50 p-4">
            <p class="block antialiased font-sans text-sm leading-relaxed font-normal text-blue-gray-500">
              <strong class="text-red-500">-2%</strong>&nbsp;que le mois dernier
            </p>
          </div>
        </div>
        <div class="relative flex flex-col bg-clip-border rounded-xl bg-white text-gray-700 shadow-md">
          <div class="bg-clip-border mx-4 rounded-xl overflow-hidden bg-gradient-to-tr from-blue-600 to-blue-400 text-white shadow-blue-500/40 shadow-lg absolute -mt-4 grid h-14 w-14 place-items-center">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" class="w-6 h-6 text-white">
              <path d="M18.375 2.25c-1.035 0-1.875.84-1.875 1.875v15.75c0 1.035.84 1.875 1.875 1.875h.75c1.035 0 1.875-.84 1.875-1.875V4.125c0-1.036-.84-1.875-1.875-1.875h-.75zM9.75 8.625c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-.75a1.875 1.875 0 01-1.875-1.875V8.625zM3 13.125c0-1.036.84-1.875 1.875-1.875h.75c1.036 0 1.875.84 1.875 1.875v6.75c0 1.035-.84 1.875-1.875 1.875h-.75A1.875 1.875 0 013 19.875v-6.75z"></path>
            </svg>
          </div>
          <div class="p-4 text-right">
            <p class="block antialiased font-sans text-sm leading-normal font-normal text-blue-gray-600">Membres Connectés</p>
            <h4 class="block antialiased tracking-normal font-sans text-2xl font-semibold leading-snug text-blue-gray-900">{{this.membersStats.totalMembersConnected}}</h4>
          </div>
          <div class="border-t border-blue-gray-50 p-4">
            <p class="block antialiased font-sans text-sm leading-relaxed font-normal text-blue-gray-500">
              <strong class="text-green-600">+5%</strong>&nbsp;que le mois dernier
            </p>
          </div>
        </div>
      </div>
      
      
      <!---->

      <hr class="mt-4 mb-8" />
    <ag-grid-angular
    class="ag-theme-quartz"
    style="height: 720px;"
    [rowData]="rowData"
    [columnDefs]="columnDefs"
    [pagination]="pagination"
    [paginationPageSize]="paginationPageSize"
    [paginationPageSizeSelector]="paginationPageSizeSelector"   
    >
    </ag-grid-angular>
</div>

</p-scrollPanel>